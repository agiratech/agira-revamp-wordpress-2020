(function(t){function e(e){for(var i,s,_=e[0],r=e[1],c=e[2],d=0,u=[];d<_.length;d++)s=_[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&u.push(o[s][0]),o[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);l&&l(e);while(u.length)u.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,_=1;_<n.length;_++){var r=n[_];0!==o[r]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={user:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="https://localhost:8080/";var _=window["wpcalMainWebpackJsonp"]=window["wpcalMainWebpackJsonp"]||[],r=_.push.bind(_);_.push=e,_=_.slice();for(var c=0;c<_.length;c++)e(_[c]);var l=r;a.push([1,"chunk-vendors","chunk-common"]),n()})({"0a1f":function(t,e,n){"use strict";var i=n("7869"),o=n.n(i);o.a},1:function(t,e,n){t.exports=n("70e2")},"4c7b":function(t,e,n){"use strict";var i=n("a4f0"),o=n.n(i);o.a},"70e2":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");window.__wpcal_client_end="user";var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.main_cont_class],style:t.user_app_custom_styles,attrs:{id:"wpcal_user_app"}},[n("IconFillSVG"),n("router-view")],1)},a=[],s=n("d1ff"),_=n("93fb"),r={components:{IconFillSVG:_["a"]},computed:{main_cont_class:function(){var t=this.$store.getters.get_app_cont_width;return!t||t<700?"narrow":t>=700&&t<1e3?"extended":t>=1e3?"wide":"narrow"},branding_styles:function(){var t={},e=this.$store.getters.get_general_settings;return e.hasOwnProperty("branding_color")&&e.branding_color&&(t["--accentClrRGB"]=Object(s["l"])(e.branding_color)),t},user_app_custom_styles:function(){var t=this.branding_styles,e=this.get_css_varaibles(),n=Object.assign({},t,e);return n}},methods:{handle_router_request:function(){var t=Object(s["k"])("wpcal_r");t&&"/"!=t&&"/booking"!=t?this.$router.push(t):this.$router.push("/booking")},get_css_varaibles:function(){var t={};return t["--wpcal-content-today"]="'"+this._x("TODAY","Date picker today date highlight","wpcal")+"'",t},may_apply_branding_font:function(){var t=this;setTimeout((function(){var e=t.$store.getters.get_general_settings;if(t._isEmpty(e))t.may_apply_branding_font();else if(e.hasOwnProperty("branding_font")&&e.branding_font){var n=document.createElement("style");n.type="text/css",n.innerHTML=":root{--font-family:"+e.branding_font+"; --font-family-med:"+e.branding_font+"; --font-family-med-weight:bold;}",document.body.appendChild(n)}}),50)}},created:function(){var t=this;this.$store.dispatch("init"),this.handle_router_request(),window.addEventListener("popstate",(function(e){t.handle_router_request()})),this.may_apply_branding_font()}},c=r,l=(n("4c7b"),n("2877")),d=Object(l["a"])(c,o,a,!1,null,"1e699641",null),u=d.exports,p=(n("d3b7"),n("25f0"),n("3ca3"),n("ddb0"),n("2b3d"),n("8c4f")),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},f=[],b=(n("b0c0"),{methods:{check_and_route:function(){"user_home"==this.$route.name&&"undefined"!==typeof wpcal_booking_service_id&&wpcal_booking_service_id&&this.$router.push("booking")}},mounted:function(){this.check_and_route()}}),h=b,m=Object(l["a"])(h,g,f,!1,null,null,null),v=m.exports,k=n("eb8b"),w=n("e0f2"),y=function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("div",[i("div",{attrs:{id:"wpcal-widget"}},[i("div",{staticClass:"widget-main state-confirmation cf"},[i("div",{staticClass:"event-preset"},[i("img",{attrs:{src:e.service_admin_details.profile_picture}}),i("div",{staticClass:"inviter-name"},[e._v(" "+e._s(e.service_admin_details.display_name)+" ")]),i("div",{staticClass:"confimation-confirmed"},[e._v(" "+e._s(e.__("Hello","wpcal"))+" "+e._s(e._f("wpcal_get_firstname")(e.booking_details.invitee_name))+","),i("br"),e._v(" "+e._s(e.booking_status_txt)+" ")]),i("div",{staticClass:"event-type-name",class:(t={},t["clr-"+e.service_details.color]=!0,t)},[e._v(" "+e._s(e.service_details.name)+" ")]),"-5"==e.booking_details.status&&e.redirect_text?i("div",[e._v(" "+e._s(e.redirect_text)+" ")]):e._e(),"1"==e.booking_details.status?i("div",[i("div",{staticClass:"event-type-duration"},[e._v(" "+e._s(e._f("wpcal_unix_to_from_to_time_full_date_day_tz")(e.booking_details.booking_from_time,e.booking_details.booking_to_time,e.tz,e.time_format))+". ")]),i("LocationAdvanced",{attrs:{type:"display_user_after_booking_location",location_details:e.booking_details.location,service_admin_details:e.service_admin_details}})],1):e._e(),"booking_view_confirmed"==e.$route.name&&1==e.booking_details.status&&e.booking_details.is_invitee_alert_by_calendar?i("div",{staticClass:"txt-h4",staticStyle:{margin:"50px 0 20px","font-size":"16px"}},[i("span",{domProps:{innerHTML:e._s(e.Tsprintf(e.__("A calendar invitation has been sent to %s your email address -","wpcal"),"<br />"))}}),i("span",{staticStyle:{"font-weight":"500"}},[e._v(e._s(e.booking_details.invitee_email))])]):e._e(),1!=e.booking_details.status||e.booking_details.is_invitee_alert_by_calendar?e._e():i("div",{staticClass:"txt-h4",staticStyle:{margin:"50px 0 20px","font-size":"16px"}},[i("a",{staticStyle:{color:"#567bf3","text-decoration":"underline"},attrs:{href:e.booking_details.add_event_to_google_calendar_url,target:"_blank"}},[e._v(e._s(e.__("Add to","wpcal"))+" Google Calendar")]),e._v("→ "),i("a",{staticStyle:{color:"#567bf3","text-decoration":"underline"},attrs:{href:e.booking_details.download_ics_url,target:"_blank"}},[e._v(e._s(e.__("Add to","wpcal"))+" iCal/Outlook ")]),e._v("→ ")]),"booking_view"!=e.$route.name||e.is_booking_slot_time_passed?e._e():i("div",{staticStyle:{"margin-top":"20px"}},[e.can_show_rechedule_option?i("router-link",{staticClass:"btn",attrs:{to:"/booking/reschedule/"+e.booking_unique_link}},[e._v(e._s(e.__("Reschedule","wpcal")))]):e._e(),e.can_show_cancel_option?i("a",{staticClass:"btn cancel pointer",on:{click:function(t){return e.show_cancel_confirmation(e.booking_details)}}},[e._v(" "+e._s(e.__("Cancel","wpcal"))+" ")]):e._e()],1)])]),i("BookingBottomPoweredBy")],1),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"booking_cancel_confirm_modal",height:"auto"}},[i("div",{staticStyle:{"font-size":"16px",padding:"20px"}},[i("div",[e._v(" "+e._s(e.__("Are you sure you want to cancel this meeting?","wpcal"))+" ")]),e._v(" "+e._s(e._f("wpcal_unix_to_from_to_time_full_date_day_tz")(e.booking_details.booking_from_time,e.booking_details.booking_to_time,e.tz,e.time_format))+". "),i("br"),i("div",{staticStyle:{"margin-top":"10px"}},[e._v(" "+e._s(e.__("Reason for cancellation:","wpcal"))+" ")]),i("div",{staticClass:"form-row",staticStyle:{width:"90%"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.cancel_reason,expression:"cancel_reason"}],attrs:{rows:"2"},domProps:{value:e.cancel_reason},on:{input:function(t){t.target.composing||(e.cancel_reason=t.target.value)}}})]),i("div",[i("button",{staticClass:"wpc-btn primary lg",staticStyle:{margin:"10px 10px 10px 0","padding-left":"10px","padding-right":"10px"},attrs:{type:"button",disabled:!e.cancel_booking_btn_is_enabled},on:{click:function(t){return e.cancel_booking(e.booking_details)}}},[e._v(" "+e._s(e.__("Yes, Cancel it.","wpcal"))+" ")]),i("button",{staticClass:"wpc-btn primary lg",staticStyle:{margin:"10px 10px 10px 0","padding-left":"10px","padding-right":"10px"},attrs:{type:"button"},on:{click:function(t){return e.$modal.hide("booking_cancel_confirm_modal")}}},[e._v(" "+e._s(e.__("No, don't.","wpcal"))+" ")])])])])],1)},x=[],$=n("2f7b"),O=n("81cb"),j=n("bc3a"),q=n.n(j),S={components:{LocationAdvanced:$["a"],BookingBottomPoweredBy:O["a"]},data:function(){return{service_details:{},service_admin_details:{},booking_details:{},booking_unique_link:"",cancel_reason:"",redirect_text:"",cancel_booking_btn_is_enabled:!0}},computed:{booking_status_txt:function(){var t="";return this.booking_details.hasOwnProperty("status")?"1"==this.booking_details.status?(t=this.__("our meeting is confirmed!","wpcal"),"booking_view_rescheduled"===this.$route.name&&(t=this.__("our meeting is rescheduled successfully!","wpcal"))):"-1"==this.booking_details.status||"-2"==this.booking_details.status?(t=this.__("our meeting is cancelled!","wpcal"),"booking_view_cancelled"===this.$route.name&&(t=this.__("our meeting is cancelled successfully!","wpcal"))):t="-5"==this.booking_details.status?this.__("our meeting is rescheduled!","wpcal"):this.__("Technical error with meeting status.","wpcal"):t="...",t},is_booking_slot_time_passed:function(){var t=Math.round((new Date).getTime()/1e3);return this.booking_details&&this.booking_details.booking_to_time<t},can_show_rechedule_option:function(){return this.booking_details&&"1"==this.booking_details.status&&!this.is_booking_slot_time_passed},can_show_cancel_option:function(){return this.booking_details&&"1"==this.booking_details.status&&!this.is_booking_slot_time_passed}},methods:{load_booking_view:function(){var t=this;this.booking_unique_link=this.$route.params.unique_link;var e="view_booking",n={};n[e]={unique_link:this.booking_unique_link};var i={action:"wpcal_process_user_ajax_request",wpcal_request:n};q.a.post(window.wpcal_ajax.ajax_url,i).then((function(n){"success"==n.data[e].status&&(t.booking_details=n.data[e].booking_data,t.service_details=n.data[e].service_data,t.service_admin_details=n.data[e].service_admin_data,t.may_redirect_to_new_booking(),"booking_view_cancel"===t.$route.name&&t.$nextTick((function(){t.can_show_cancel_option&&t.show_cancel_confirmation()})))})).catch((function(t){console.log(t)}))},may_redirect_to_new_booking:function(){var t=this;"-5"==this.booking_details.status&&this.booking_details.rescheduled_booking_unique_link&&(this.redirect_text=this.__("Redirecting to new booking...","wpcal"),setTimeout((function(){t.$router.push("/booking/view/"+t.booking_details.rescheduled_booking_unique_link)}),2e3))},show_cancel_confirmation:function(){console.log("show confirm?"),this.$modal.show("booking_cancel_confirm_modal",{})},cancel_booking:function(t){var e=this;this.cancel_booking_btn_is_enabled=!1;var n={},i="cancel_booking";n[i]={booking_unique_link:t.unique_link,cancel_reason:this.cancel_reason};var o={action:"wpcal_process_user_ajax_request",wpcal_request:n};q.a.post(window.wpcal_ajax.ajax_url,o).then((function(n){"success"==n.data[i].status&&(e.$modal.hide("booking_cancel_confirm_modal"),e.$router.push("/booking/view/"+t.unique_link+"/cancelled"))})).catch((function(t){console.log(t)})).then((function(){e.$store.dispatch("run_booking_background_tasks_by_unique_link",{unique_link:t.unique_link}),e.cancel_booking_btn_is_enabled=!0}))}},watch:{"$route.name":function(){Object.assign(this.$data,this.$options.data.apply(this)),this.load_booking_view()},"$route.params.unique_link":function(){Object.assign(this.$data,this.$options.data.apply(this)),this.load_booking_view()}},mounted:function(){this.load_booking_view()}},C=S,T=(n("7937"),n("0a1f"),Object(l["a"])(C,y,x,!1,null,"da1f8d6c",null)),P=T.exports;i["default"].use(p["a"]);var E=[{path:"/",name:"user_home",component:v},{path:"/booking",name:"booking",children:[{path:"reschedule/:unique_link/",name:"booking_reschedule"},{path:"schedule_again/:unique_link/",name:"booking_schedule_again"},{path:"confirm",components:{step2:w["a"]}}],component:k["a"]},{path:"/booking/view/:unique_link",name:"booking_view",children:[{path:"confirmed",name:"booking_view_confirmed"},{path:"rescheduled",name:"booking_view_rescheduled"},{path:"cancelled",name:"booking_view_cancelled"},{path:"cancel",name:"booking_view_cancel"}],component:P}],M=new p["a"]({mode:"abstract",routes:E});M.afterEach((function(t,e){var n=function(t){var e=t.fullPath,n=window.location.href,i=new URL(n);i.searchParams.set("wpcal_r",e),"/"!=e&&"/booking"!=e||i.searchParams.delete("wpcal_r");var o=i.toString(),a=Object(s["k"])("wpcal_r");a!=e&&window.history.pushState(null,"",o)};n(t)}));var z=M,A=n("2f62"),B=n("cdab");i["default"].use(A["a"]);var L=new A["a"].Store({strict:!0,modules:{common:B["a"]},state:{client_end:"user"}}),R=(n("399f"),n("1619"),n("751a"),n("1881")),D=n.n(R),G=n("404b"),W=n.n(G),H=n("1dce"),V=n.n(H),F=n("7f53"),I=n("2242"),J=n("e399"),N=n.n(J);n("2068");n.p=window.__wpcal_dist_url,i["default"].use(D.a,{dialog:!0}),i["default"].component("v-date-picker",W.a),i["default"].use(V.a),i["default"].use(F["a"],I["a"]);var Y={timeout:5e3,position:"topRight",drag:!1};i["default"].use(N.a,Y),i["default"].config.productionTip=!1,i["default"].prototype.__=s["b"],i["default"].prototype._x=s["f"],i["default"].prototype._n=s["d"],i["default"].prototype._nx=s["e"],i["default"].prototype.T__=s["b"],i["default"].prototype.T_x=s["f"],i["default"].prototype.T_n=s["d"],i["default"].prototype.T_nx=s["e"],i["default"].prototype.Tsprintf=s["a"];var U=null,K=new Event("wpcal_load_booking_widget"),Q=!1,X=!1;document.addEventListener("wpcal_load_booking_widget",(function(){Object(s["i"])("event fired received: wpcal_load_booking_widget");var t=document.querySelector("#wpcal_user_app.loading-indicator-initial");if(t){if(!1===X&&!1===Q&&t.closest(".elementor-location-popup")&&!t.closest(".elementor-popup-modal"))return console.log("WPCal - Delaying check for elementor workaround"),void setTimeout((function(){Q=!0,document.dispatchEvent(K)}),600);U&&(U.$destroy(),U=null),U||(Object(s["i"])("Triggering wpcal vue instance"),X=!0,U=new i["default"]({router:z,store:L,render:function(t){return t(u)}}).$mount("#wpcal_user_app"))}}));try{setTimeout((function(){Object(s["i"])("WPCal dispatch event after Vue load"),document.dispatchEvent(K)}),10)}catch(Z){}},7869:function(t,e,n){},7937:function(t,e,n){"use strict";var i=n("c71c"),o=n.n(i);o.a},a4f0:function(t,e,n){},c71c:function(t,e,n){}});
//# sourceMappingURL=user.min.js.map