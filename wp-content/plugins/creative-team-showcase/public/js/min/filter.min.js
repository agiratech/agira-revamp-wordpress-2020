jQuery(document).ready(function(n){var s=n(window).outerWidth(),e=[],l="all",w=!1;function a(t){var s=[];t.find(".ctshowcase-team-member").each(function(){s.push(n(this).offset())}),t.attr("all-positions",JSON.stringify(s))}function c(t,o){var e=n(t).closest(".ctshowcase-layout.with-filter"),i=JSON.parse(e.attr("all-positions"));e.css("height","auto"),e.find(".ctshowcase-team-member").each(function(){n(this).hasClass("show")||(o?n(this).removeClass("no-transition"):n(this).addClass("no-transition"),n(this).find(".ctshowcase-team-member-wrapper").css({transform:"scale(0)","-ms-transform":" scale(0)","-webkit-transform":"scale(0)",opacity:0}))});var c=0;t&&0<t.length&&n(t).each(function(){var t=e.find(".ctshowcase-team-member").index(this),s=i[c].left-i[t].left,a=i[c].top-i[t].top;o?n(this).removeClass("no-transition"):n(this).addClass("no-transition"),n(this).css({transform:"translate3d("+s+"px ,"+a+"px ,0)","-ms-transform":"translate3d("+s+"px ,"+a+"px ,0)","-webkit-transform":"translate3d("+s+"px ,"+a+"px ,0 )"}),n(this).find(".ctshowcase-team-member-wrapper").css({transform:"scale(1)","-ms-transform":"scale(1)","-webkit-transform":"scale(1)",opacity:1}),c++});var s=i.length,a=t.length,r=i[s-1].top-i[a-1].top,h=e.outerHeight();"all"==l?e.css("height","auto"):e.css("height",h-r),w=!1,c=0}n(".ctshowcase-layout.with-filter").each(function(){var a=[];n(this).find(".ctshowcase-team-member").each(function(){for(var t=n(this).data("groups").toString().split(","),s=0;s<t.length;s++)t[s]&&a.push(t[s])}),n(this).find(".ctshowcase-group-buttons a").each(function(){"all"!=n(this).data("group").toString()&&n.inArray(n(this).data("group").toString(),a)<=-1&&n(this).hide()})}),window.setTimeout(function(){n(".ctshowcase-layout.with-filter").each(function(){a(n(this))}),n(".ctshowcase-layout.with-filter .all").trigger("click")},400),n(window).on("resize",function(t){n(window).outerWidth()!=s&&(s=n(window).outerWidth(),n(".ctshowcase-layout.with-filter .ctshowcase-team-member-wrapper").addClass("no-transition"),n(".ctshowcase-layout.with-filter .ctshowcase-team-member").addClass("no-transition"),n(".ctshowcase-layout.with-filter .ctshowcase-team-member-wrapper").css({transform:"scale(0)",opacity:0}),n(".ctshowcase-layout.with-filter .ctshowcase-team-member").css("transform","translate3d(0,0,0)"),n(".ctshowcase-layout.with-filter").css("height","auto"),n(".ctshowcase-layout.with-filter").each(function(){var t=n(this);a(t),c(t.find(".ctshowcase-team-member.show"),!1)}))}),n(".ctshowcase-layout.with-filter .ctshowcase-group-buttons a").on("click",function(t){if(t.preventDefault(),!n(this).hasClass("active")){n(this).closest(".ctshowcase-layout.with-filter").find(".ctshowcase-group-buttons a").each(function(){n(this).removeClass("active"),n(this).css({background:n(this).closest(".ctshowcase-group-buttons").data("filter_inactive_link_bg_color"),color:n(this).closest(".ctshowcase-group-buttons").data("filter_inactive_link_font_color")})}),n(this).addClass("active"),n(this).css({background:n(this).closest(".ctshowcase-group-buttons").data("filter_active_link_bg_color"),color:n(this).closest(".ctshowcase-group-buttons").data("filter_active_link_font_color")});var s=n(this).closest(".ctshowcase-layout.with-filter").find(".ctshowcase-team-member");if(!w){for(w=!0,l=n(this).data("group").toString(),e=[],i=0;i<s.length;i++){var a=s[i],o=n(a).data("groups").toString().split(",");"all"===l?(n(a).hasClass("show")?n(a).addClass("already-shown"):n(a).addClass("show"),e.push(a)):-1<n.inArray(l,o)?(n(a).hasClass("show")?n(a).addClass("already-shown"):n(a).addClass("show"),e.push(a)):n(a).removeClass("show already-shown")}c(e,!0)}}})});